<div class="animated fadeIn">
   <div class="row">
      <div class="col-sm-12  offset-*">
         <div class="card">
            <div class="card-header">
               <strong>Event Details</strong>
            </div>
            <div class="card-body">
               <form (ngSubmit)="onSubmit()" #eventForm="ngForm">
                  <div class="form-group">
                     <label for="title"><b>Event Title</b></label>
                     <input type="text" class="form-control" id="title" [(ngModel)]="event.title" name="title" #title="ngModel" placeholder="Short distinct name" required>
                     <div style="color: red; padding:1%"  *ngIf="title.invalid && (title.dirty || title.touched)">
                        Please enter an event title.
                    </div>
                  </div>
                  <div class="form-group">
                     <label for="vat"><b>Location</b></label>
                     <input type="text" class="form-control" id="location" [(ngModel)]="event.location" name="location" #location="ngModel" placeholder="Where it will be held" required>
                     <div style="color: red; padding:1%"  *ngIf="location.invalid && (location.dirty || location.touched)">
                        Please enter where your event will be held.
                    </div>
                  </div>
                  <div class="row">
                     <div class="form-group col-sm-5">
                        <label for="date"><b>Date</b></label>
                        <div class="input-group">
                           <input class="form-control" placeholder="YYYY-MM-DD" id="date" [(ngModel)]="event.date" name="date" #date="ngModel" ngbDatepicker #d="ngbDatepicker" required>
                           <span class="input-group-addon" (click)="d.toggle()" type="button"><i class="fa fa-calendar"></i></span>
                           <div style="color: red; padding:1%"  *ngIf="date.invalid && (date.dirty || date.touched)">
                            Please enter when your event will be held.
                        </div>
                        </div>
                     </div>
                     <div class="form-group col-sm-1"></div>
                     <div class="row">
                     <div class="form-group col-sm-6">
                        <label for="start_time"><b>Starts</b></label>
                        <ngb-timepicker [spinners]="spinners" [meridian]="meridian" id="start_time" [(ngModel)]="event.start_time" name="start_time" #startTime="ngModel" required></ngb-timepicker>
                     </div>
                     <div class="form-group col-sm-6">
                        <label for="end_time"><b>Ends</b></label>
                        <ngb-timepicker [spinners]="spinners" [meridian]="meridian" id="end_time" [(ngModel)]="event.end_time" name="end_time" #endTime="ngModel" required></ngb-timepicker>
                     </div>
                     <div style="color: red; padding:1%"  *ngIf="(endTime.invalid || startTime.invalid) && (startTime.dirty || startTime.touched || endTime.dirty || endTime.touched)">
                      Please enter what time your event will be held.
                  </div>
                     </div>
                  </div>
                  <!--/.row-->
                  <div class="form-group">
                     <label for="desc"><b>Event Description</b></label>
                     <textarea id="description" [(ngModel)]="event.description" name="description" #description="ngModel" rows="6" cols="3" class="form-control" placeholder="Brief description of your event.." required></textarea>
                     <div style="color: red; padding:1%"  *ngIf="description.invalid && (description.dirty || description.touched)">
                      Please describe your event.
                  </div>
                    </div>
                  <div class="form-group row">
                     <label class="col-md-2 form-control-label"><strong>Event Class</strong></label>
                     <div class="col-md-3">
                        <div class="form-check">
                           <label class="form-check-label">
                           <input class="form-check-input" type="radio" [(ngModel)]="event.type" name="type" id="type" value="Open" checked> Open
                           </label>
                        </div>
                        <div class="form-check">
                           <label class="form-check-label">
                           <input class="form-check-input" type="radio" [(ngModel)]="event.type" name="type" id="type"  value="Closed"> Closed
                           </label>
                        </div>
                     </div>
                     <label class="col-md-3 form-control-label" for="category"><strong>Event Category</strong></label>
                     <!-- <div ngbDropdown class="d-inline-block">
                        <label class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>Select Category</label>
                        <div ngbDropdownMenu aria-labelledby="dropdownBasic1" *ngIf="categories$ | async; let categories; else loading">
                           <option class="dropdown-item" *ngFor="let category of categories">{{ category.payload.val().name }}</option>
                        </div>
                     </div> -->
                     <!-- <div [ngSwitch]="categories$ | async"> -->
                       <!-- <div *ngSwitchCase!="null"> -->
                     <select class="custom-select mb-2 mr-sm-2 mb-sm-0" id="inlineFormCustomSelect" *ngIf="categories$ | async; let categories; else loading"  [(ngModel)]="event.category" name="category" #category="ngModel" placeholder="Select Category">
                      <option value="" disabled selected>Select Category</option>
                        <option *ngFor="let category of categories" value="{{category.payload.val().id}}">{{ category.payload.val().name }}</option>
                      </select>
                      <div style="color: red; padding:1%"  *ngIf="category && category.invalid && (category.dirty || category.touched)">
                        Please select a category.
                    </div>
                    <!-- </div> -->
                    <!-- <div *ngSwitchCase="null">
                            <i class="fa fa-cog fa-spin fa-2x fa-fw"></i>
                            <span>Loading...</span>
                    </div> -->
                    <!-- </div> -->
                  </div>
                  <div class="form-group">
                     <label for="title"><b>Event Tags</b></label>
                     <tag-input [separatorKeys]="[32]" [editable]='true' (onTagEdited)="onTagEdited($event)" [(ngModel)]="event.tags" name="tags"></tag-input>
                  </div>
                  <div class="form-group row">
                     <label class="col-md-3 form-control-label" for="file-input"><strong>Event Image</strong></label>
                     <div class="col-md-9">
                        <input type="file" id="file-input" name="file-input" ngbPopover="We recommend using at least a 2160x1080px (2:1 ratio) image that's no larger than 10MB" triggers="mouseenter:mouseleave" popoverTitle="Image Specifications">
                     </div>
                  </div>
                  <div class="form-group">
                     <label for="link"><b><input type="checkbox" id="link" [(ngModel)]="event.link" name="link" #link="ngModel"> Link to Facebook and Twitter</b></label>
                     <br/>
                     <br>
                     <div class="row" style="padding-left:5%; padding-right:5%" *ngIf="link.value == true">
                     <div class="input-group col-md-6">
                        <span class="input-group-addon"><i class="fa fa-twitter"></i></span>
                        <input type="text" id="link_tw" name="link_tw" class="form-control" placeholder="Twitter URL" [(ngModel)]="event.link_tw">
                      </div>
                      <div class="input-group col-md-6">
                          <span class="input-group-addon"><i class="fa fa-facebook"></i></span>
                          <input type="text" id="link_fb" name="link_fb" class="form-control" placeholder="Facebook Page URL" [(ngModel)]="event.link_fb">
                        </div>
                      </div>
                  </div>
                  <hr/>
                  <!-- <div class="card-block">
                    <h5 class="card-title">EVENT TICKET</h5>
                   
                  </div> -->
                  <div style="text-align:right">
                     <button type="submit" class="btn btn-success" [disabled]="!eventForm.valid">Submit</button>
                     <button type="reset" class="btn btn-danger">Clear</button>
                  </div>
               </form>
            </div>
         </div>
         <pre>{{eventForm.value | json}}</pre>
      </div>
   </div>
</div>
<!-- <div *ngIf="categories$ | async; let categories; else loading">
   <ul>
      <li *ngFor="let category of categories">
         {{ category.payload.val().name }}
         <b>{{ category.payload.val().id }}</b>
      </li>
   </ul>
   <div *ngIf="categories.length === 0">No results, try clearing filters</div>
</div> -->